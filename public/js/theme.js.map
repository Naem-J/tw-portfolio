{"version":3,"sources":["file:///G:/test/tw-portfolio/themes/moonwalk-hugo/assets/js/theme.js"],"sourcesContent":["// Get prefered themes from local storage and window\r\nconst localStorageTheme = localStorage.getItem(\"theme\")\r\nconst systemThemeSetting = window.matchMedia(\"(prefers-color-scheme: light)\")\r\n\r\n// Get theme toggle button\r\nconst themeToggleBtn = document.querySelector(\".theme-toggle\")\r\n\r\n/**\r\n * Get current theme setting as a string\r\n *\r\n * @param {string | null} localStorageTheme\r\n * @param {MediaQueryList} systemThemeSetting\r\n * @returns {string} Current theme\r\n */\r\nfunction calculateSettingAsThemeString(localStorageTheme, systemThemeSetting) {\r\n\tif (localStorageTheme !== null) {\r\n\t\treturn localStorageTheme\r\n\t}\r\n\r\n\tif (systemThemeSetting.matches) {\r\n\t\treturn \"light\"\r\n\t}\r\n\r\n\treturn \"dark\"\r\n}\r\n\r\n// Get current theme\r\nlet currentTheme = calculateSettingAsThemeString(localStorageTheme, systemThemeSetting)\r\n\r\n// Set current theme on load\r\nwindow.onload = function() {\r\n\tdocument.querySelector(\"html\").setAttribute(\"data-theme\", currentTheme)\r\n}\r\n\r\nthemeToggleBtn.addEventListener(\"click\", () =\u003e {\r\n\tlet newTheme\r\n\r\n\tif (currentTheme === \"dark\") {\r\n\t\tnewTheme = \"light\"\r\n\t} else {\r\n\t\tnewTheme = \"dark\"\r\n\t}\r\n\r\n\tdocument.querySelector(\"html\").setAttribute(\"data-theme\", newTheme)\r\n\r\n\tlocalStorage.setItem(\"theme\", newTheme)\r\n\r\n\tcurrentTheme = newTheme\r\n})\r\n"],"mappings":";;AACA,MAAM,oBAAoB,aAAa,QAAQ,OAAO;AACtD,MAAM,qBAAqB,OAAO,WAAW,+BAA+B;AAG5E,MAAM,iBAAiB,SAAS,cAAc,eAAe;AAS7D,WAAS,8BAA8BA,oBAAmBC,qBAAoB;AAC7E,QAAID,uBAAsB,MAAM;AAC/B,aAAOA;AAAA,IACR;AAEA,QAAIC,oBAAmB,SAAS;AAC/B,aAAO;AAAA,IACR;AAEA,WAAO;AAAA,EACR;AAGA,MAAI,eAAe,8BAA8B,mBAAmB,kBAAkB;AAGtF,SAAO,SAAS,WAAW;AAC1B,aAAS,cAAc,MAAM,EAAE,aAAa,cAAc,YAAY;AAAA,EACvE;AAEA,iBAAe,iBAAiB,SAAS,MAAM;AAC9C,QAAI;AAEJ,QAAI,iBAAiB,QAAQ;AAC5B,iBAAW;AAAA,IACZ,OAAO;AACN,iBAAW;AAAA,IACZ;AAEA,aAAS,cAAc,MAAM,EAAE,aAAa,cAAc,QAAQ;AAElE,iBAAa,QAAQ,SAAS,QAAQ;AAEtC,mBAAe;AAAA,EAChB,CAAC;","names":["localStorageTheme","systemThemeSetting"]}